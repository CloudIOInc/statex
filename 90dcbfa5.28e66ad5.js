(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{89:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return w})),a.d(t,"metadata",(function(){return g})),a.d(t,"rightToc",(function(){return E})),a.d(t,"default",(function(){return X}));var n=a(2),c=a(6),l=a(0),r=a.n(l),s=a(94),o=(a(137),a(110)),i=a(299);const p=e=>["pixel",e],u=a.n(i)()(e=>Object(o.atom)({path:p(e),defaultValue:0})),m=Object(o.action)(({set:e,get:t},a)=>{let n=t(["pixel"])||{};n={...n};Object.keys(n).forEach(e=>n[e]=a?1:0),e(["pixel"],n),e(["all"],a)}),b=Object(o.action)(({set:e},t)=>{const a={};if(t)for(let n=0;n<100;n++)for(let e=0;e<100;e++){a[`pixel_${n}_${e}`]=0}e(["pixel"],a),e(["show"],t)});function d({id:e}){const[t,a]=Object(o.useStateX)(u(e)),n=Object(o.useStateXValue)(["all"],!1);const c=t?"pixel pixel-stats-full":"pixel pixel-stats-empty";return r.a.createElement("span",{className:c,onMouseEnter:function(){a(n?0:1)}})}function h(){const e=Object(o.useStateXValue)(["show"],!1),t=Object(o.useStateXGetter)(),a=Object.keys(t(["pixel"])||{});return e?r.a.createElement("div",{className:"canvas-container"},a.length?a.map(e=>r.a.createElement(d,{key:e,id:e})):"Please wait..."):r.a.createElement("div",{className:"canvas-container"},"Check Show Canvas")}var f=Object(l.memo)(h),x=(a(76),a(131),a(140),a(197),function(){var e=Object(o.useStateXValue)(["pixel"],{}),t=Object.values(e),a=t.filter((function(e){return 1===e})).length,n=t.length-a;return r.a.createElement("div",{className:"pixel-stats"},r.a.createElement("label",{className:"pixel-stats-full"},a," / ",t.length),r.a.createElement("label",{className:"pixel-stats-empty"},n," / ",t.length))});function O(e){var t=e.show,a=e.all,n=Object(l.useState)(0),c=n[0],s=n[1],o=performance.now(),i=Object(l.useRef)(o);return i.current=o,Object(l.useEffect)((function(){var e=performance.now();s(Math.round(e-i.current))}),[t,a]),r.a.createElement("div",null,"Elapsed ",c,"ms")}function j(){const e=Object(o.useStateXValue)(["show"],!1),t=Object(o.useStateXValue)(["all"],!1),a=Object(o.useStateXAction)(m),n=Object(o.useStateXAction)(b);return r.a.createElement("div",{className:"toolbar"},"Check to show canvas"," ",r.a.createElement("input",{type:"checkbox",checked:e,onChange:e=>n(e.target.checked)}),r.a.createElement("br",null),"Check to mark all"," ",r.a.createElement("input",{type:"checkbox",checked:t,onChange:e=>a(e.target.checked)}),r.a.createElement(O,{show:e,all:t}))}var v=a(8);function k(){for(var e=[],t=0;t<2;t++)e.push(r.a.createElement(f,{key:t}));return v.a.canUseDOM?r.a.createElement(o.StateXProvider,null,r.a.createElement("div",{className:"App"},r.a.createElement(j,null),r.a.createElement(x,null),e)):null}var w={id:"performance",title:"Performance"},g={id:"examples/performance",isDocsHomePage:!1,title:"Performance",description:"In this example, we'll take StateX to a ride and see how it performs!",source:"@site/docs/examples/pixels.md",permalink:"/statex/docs/examples/performance",editUrl:"https://github.com/CloudIOInc/statex/edit/master/website/docs/examples/pixels.md",sidebar:"someSidebar",previous:{title:"Form",permalink:"/statex/docs/examples/form"},next:{title:"Canvas",permalink:"/statex/docs/examples/canvas"}},E=[],S={rightToc:E};function X(e){var t=e.components,a=Object(c.a)(e,["components"]);return Object(s.b)("wrapper",Object(n.a)({},S,a,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"In this example, we'll take StateX to a ride and see how it performs!"),Object(s.b)("p",null,"Click on ",Object(s.b)("inlineCode",{parentName:"p"},"Check to show canvas")," to render 20K atoms using ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"../api-reference/core/useStateX"}),"useStateX")," hook. Then move your mouse over the canvas to see the pixels turning orange."),Object(s.b)("p",null,"Toggle ",Object(s.b)("inlineCode",{parentName:"p"},"Check to mark all")," to update all atoms to 1 or 0 and watch all pixels turning Orange or Black., i.e. 20K subscriptions in action!"),Object(s.b)(k,{mdxType:"App"}),Object(s.b)("p",null,Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/CloudIOInc/statex/blob/master/website/src/components/pixels/App.tsx"}),"View this code on github")))}X.isMDXComponent=!0}}]);