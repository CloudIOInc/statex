(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{123:function(e,t,r){e.exports=r(308)},142:function(e,t,r){var n=r(118),o=r(97)("toStringTag"),a="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(r){}}(t=Object(e),o))?r:a?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},149:function(e,t,r){"use strict";var n=r(142),o={};o[r(97)("toStringTag")]="z",o+""!="[object z]"&&r(108)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},308:function(e,t,r){"use strict";r.r(t),r.d(t,"Action",(function(){return fe})),r.d(t,"Atom",(function(){return c})),r.d(t,"Resolvable",(function(){return u})),r.d(t,"Selector",(function(){return te})),r.d(t,"StateXProvider",(function(){return he})),r.d(t,"action",(function(){return _e})),r.d(t,"atom",(function(){return ge})),r.d(t,"get",(function(){return C})),r.d(t,"getIn",(function(){return w})),r.d(t,"has",(function(){return P})),r.d(t,"hasIn",(function(){return E})),r.d(t,"insert",(function(){return R})),r.d(t,"insertIn",(function(){return $})),r.d(t,"isReactElement",(function(){return m})),r.d(t,"isResolvable",(function(){return d})),r.d(t,"isSelectorNode",(function(){return i})),r.d(t,"remove",(function(){return x})),r.d(t,"removeIn",(function(){return k})),r.d(t,"selector",(function(){return Ve})),r.d(t,"set",(function(){return N})),r.d(t,"setIn",(function(){return _})),r.d(t,"update",(function(){return j})),r.d(t,"updateIn",(function(){return V})),r.d(t,"useActivePaths",(function(){return He})),r.d(t,"useDebug",(function(){return Te})),r.d(t,"useLatest",(function(){return pe})),r.d(t,"usePrintTree",(function(){return Ge})),r.d(t,"useRemoveStateX",(function(){return ke})),r.d(t,"useStateX",(function(){return Ue})),r.d(t,"useStateXAction",(function(){return $e})),r.d(t,"useStateXCallback",(function(){return je})),r.d(t,"useStateXForCheckbox",(function(){return Be})),r.d(t,"useStateXForNumberInput",(function(){return De})),r.d(t,"useStateXForSelect",(function(){return We})),r.d(t,"useStateXForTextInput",(function(){return Le})),r.d(t,"useStateXForToggle",(function(){return Ke})),r.d(t,"useStateXGetter",(function(){return be})),r.d(t,"useStateXRef",(function(){return ze})),r.d(t,"useStateXRefGetter",(function(){return Se})),r.d(t,"useStateXRefSetter",(function(){return ye})),r.d(t,"useStateXRefValue",(function(){return Je})),r.d(t,"useStateXRemover",(function(){return me})),r.d(t,"useStateXResolveable",(function(){return Ee})),r.d(t,"useStateXSetter",(function(){return ve})),r.d(t,"useStateXSnapshotCallback",(function(){return Ie})),r.d(t,"useStateXSnapshotSetter",(function(){return Me})),r.d(t,"useStateXUndo",(function(){return Qe})),r.d(t,"useStateXValue",(function(){return Ce})),r.d(t,"useStateXValueGetter",(function(){return Oe})),r.d(t,"useStateXValueInternal",(function(){return we})),r.d(t,"useStateXValueRemover",(function(){return xe})),r.d(t,"useStateXValueResolveable",(function(){return Pe})),r.d(t,"useStateXValueSetter",(function(){return Ne})),r.d(t,"useWithStateX",(function(){return Ae}));var n=r(0),o=r.n(n),a=r(19),s=r.n(a);function i(e){return void 0!==e.data.selector}class u{constructor(e,t,r=!1){this.cancelled=!1,this.clone=()=>{const e=new u(this.selectorNode,this.self,this.isDefault);return e.value=this.value,e.status=this.status,e.promise=this.promise,e.error=this.error,e.cancelled=this.cancelled,e},this.resolveIfSelf=e=>{switch(this.status){case"pending":throw this.promise;case"error":throw this.error;default:if(this.selectorNode===e&&this.self)return this.value;throw this.promise}},this.resolve=()=>{switch(this.status){case"pending":throw this.promise;case"error":throw this.error;default:return this.value}},this.selectorNode=e,this.status="pending",this.self=t,this.isDefault=r}static withValue(e,t,r=!1){const n=new u(e,!0,r);return n.value=t,n.status="resolved",n}}function d(e){return e instanceof u}class c{constructor(e){this.path=e.path,this.defaultValue=e.defaultValue,this.shouldComponentUpdate=e.shouldComponentUpdate,this.updater=e.updater,this.onChange=e.onChange}}function l(e){return null!==e&&Array.isArray(e)}function h(e){return e&&!Array.isArray(e)&&"object"==typeof e}function f(e){return l(e)||h(e)}function p(e){return null==e}function g(e){return Array.isArray(e)}function v(e){return e instanceof Promise||e&&"object"==typeof e&&"function"==typeof e.then}function m(e){switch(typeof e.$$typeof){case"symbol":case"number":return!0}return!1}function b(){}function S(e,t){let r;t&&0!==Object.keys(t).length?(r=[...e],Object.entries(t).forEach(e=>{const t=r.indexOf(":"+e[0]);-1!==t&&(r[t]=e[1])})):r=e;const n=r.filter(e=>"string"==typeof e&&":"===e.charAt(0));if(n.length)throw Error(`Missing parameter values for ${n.join(", ")} in path ${JSON.stringify(r)}. ${t?"Params passed "+JSON.stringify(t):"No params passed!"}`);return r}function y(e){return JSON.stringify(e)}function O(e){return Array.isArray(e)?[...e]:Object.assign({},e)}function j(e,t,r){if(l(e)){if("number"==typeof t)return function(e,t,r){if(e[t]===r)return e;if(t===e.length)return[...e,r];{const n=O(e);return n[t]=r,n}}(e,t,r(e.length>t?e[t]:void 0));throw Error(`Invalid key ${String(t)}. Must be of type number.`)}if(h(e))return function(e,t,r){return e[t]===r?e:Object.assign(Object.assign({},e),{[t]:r})}(e,t,r(e[t]));if(p(e))throw Error(`Invalid collection passed! Must be an array or plain object. Passed ${e}!`);throw Error(`Invalid collection passed! Must be an array or plain object. Passed ${typeof e}!`)}function N(e,t,r){return j(e,t,()=>r)}function C(e,t){if(l(e)){if("number"==typeof t)return e.length>t?e[t]:void 0;throw Error(`Invalid key ${t}. Must be of type number.`)}if(h(e))return e[t];if(!p(e))throw Error(`Invalid collection passed! Must be an array or plain object. Passed ${typeof e}!`)}function w(e,t,r){const n=function e(t,r,n){if(0===r.length&&0===n)return t;const o=r[n];if(r.length===n+1)try{return C(t,o)}catch(e){throw Error(`${e.message} Path: ${JSON.stringify(r)}.`)}const a=C(t,o);if(!p(a)){if(!f(a))throw Error(`Invalid path ${JSON.stringify(r)} at index ${n}. Must be an object. Instead found ${a}`);return e(a,r,n+1)}}(e,t,0);return void 0===n?r:n}function P(e,t){if(l(e)){if("number"==typeof t)return e.hasOwnProperty(t);throw Error(`Invalid key ${t}. Must be of type number.`)}if(h(e))return e.hasOwnProperty(t);if(p(e))return!1;throw Error(`Invalid collection passed! Must be an array or plain object. Passed ${typeof e}!`)}function E(e,t){return function e(t,r,n){if(0===r.length&&0===n)return!p(t);const o=r[n];if(r.length===n+1)try{return P(t,o)}catch(e){throw Error(`${e.message} Path: ${JSON.stringify(r)}.`)}const a=C(t,o);if(p(a))return!1;if(!f(a))throw Error(`Invalid path ${JSON.stringify(r)} at index ${n}. Must be an object. Instead found ${a}.`);return e(a,r,n+1)}(e,t,0)}function R(e,t,r){if(l(e)){if(t<e.length){const n=e.slice(0,t),o=e.slice(t);return[...n,r(e[t]),...o]}if(t===e.length)return[...e,r(void 0)];throw Error(`Index out of bound! Index ${t}. Size ${e.length}.`)}throw Error("insert called on invalid collection. collection must be of type Array.")}function U(e,t,r,n,o){if(0===t.length&&0===r)return n(e);const a=t[r];if(t.length===r+1)try{if(o){if("number"==typeof a&&l(e))return R(e,a,n);throw Error("insertIn called on invalid collection. leaf collection must be of type Array & leaf path must be a number.")}return j(e,a,n)}catch(e){throw Error(`${e.message} Path: ${JSON.stringify(t)} at index ${r}.`)}let s,i;try{s=C(e,a)}catch(e){throw Error(`${e.message} Path: ${JSON.stringify(t)} at index ${r}.`)}if(p(s))i="number"==typeof t[r+1]?[]:{};else{if(!f(s))throw Error(`Invalid path ${JSON.stringify(t)} at index ${r}. Must be an object. Instead found ${s}`);i=s}return i=U(i,t,r+1,n,o),i===s?e:N(e,a,i)}function V(e,t,r){return U(e,t,0,r,!1)}function _(e,t,r){return V(e,t,()=>r)}function $(e,t,r){return U(e,t,0,()=>r,!0)}function x(e,t){if(P(e,t)){if(l(e))return[...e.slice(0,t),...e.slice(+t+1)];const r=O(e);return delete r[t],r}return e}function k(e,t){return function e(t,r,n){if(0===r.length&&0===n)return l(t)?[]:{};const o=r[n];if(r.length===n+1)try{return x(t,o)}catch(t){throw Error(`${t.message} Path: ${JSON.stringify(r)} at index ${n}.`)}let a,s;try{a=C(t,o)}catch(t){throw Error(`${t.message} Path: ${JSON.stringify(r)} at index ${n}.`)}return p(a)?t:(s=function(e,t){if(null!==e&&(Array.isArray(e)||"object"==typeof e))return e;throw Error(t)}(a,`Invalid path ${JSON.stringify(r)} at index ${n}. Must be an object.`),s=e(s,r,n+1),s===a?t:N(t,o,s))}(e,t,0)}function A(e,t,r,n=!0){if(0===t.path.length)return e.getState();const o=w(e.getState(),t.path,r);return void 0===o?r:o}function I(e,t){if(i(t))return t.data.oldSelectorValue!==t.data.selectorValue;const r=w(e.getState(),t.path,void 0);return t.data.lastKnownValue!==r}function M(e,t){const r=t.filter(e=>"string"==typeof e&&":"===e.charAt(0));if(r.length)throw Error(`Missing parameter values for ${r.join(", ")} in path ${y(t)}!`);return e.trie().getNode(t)}function T(e,t,r){if(t.deleted)throw Error("Node already removed! "+y(t.path));return e.enteringNode(t),t.data.holders.add(r),r.holding=!0,()=>{if(r.holding=!1,t.data.holders.delete(r),0===t.data.holders.size&&!function e(t){const r=Object.values(t.children),n=r.length;for(let o=0;o<n;o++){const t=r[o];if(t.data.holders.size||e(t))return!0}return!1}(t)&&!e.destroyed){if(i(t))return;e.markToBeRemoved(t)}}}function X(e,t,r){const n=e.trie().getAllParentNodes(t.path),o=n.length;let a;for(let s=0;s<o&&(a=n[s],!r.has(a));s++)r.add(a)}function z(e,t,r){return e.trie().getAllChildNodes(t,t=>I(e,t)).forEach(r.add,r),r}function J(e){const t=function(e){const t=new Set;let r;return e.getPendingPaths().forEach(n=>{r=e.trie().getNode(n),I(e,r)?(t.add(r),z(e,n,t),X(e,r,t)):r.parent&&!t.has(r.parent)&&I(e,r.parent)&&X(e,r,t)}),t}(e);e.clearPending(),L(e,t)}function L(e,t){if(0===t.size)return;const r=[];t.forEach(t=>{if(i(t))t.data.selector.informInitialChange(e,t);else{let n=A(e,t);const{lastKnownValue:o,defaultValue:a,holders:s,atom:i}=t.data;void 0===n&&(n=a),n!==o&&(t.data.lastKnownValue=n,(null==i?void 0:i.shouldComponentUpdate)&&!i.shouldComponentUpdate(n,o)||s.forEach(t=>{if(!t.holding)return;let a=!0;t.shouldComponentUpdate&&(e.beforeShouldComponentUpdate(t.node),a=t.shouldComponentUpdate(n,o),e.afterShouldComponentUpdate(t.node)),a&&(t.setter(n),r.push(t.node)),t.onChange&&(e.beforeOnChange(t.node),t.onChange({call:H(e),get:G(e),getRef:q(e),oldValue:o,remove:Z(e),set:Y(e),value:n}),e.afterOnChange(t.node))}),(null==i?void 0:i.onChange)&&(e.beforeAtomOnChange(t),i.onChange({call:H(e),get:G(e),getRef:q(e),oldValue:o,remove:Z(e),set:Y(e),value:n}),e.afterAtomOnChange(t)))}})}function W(e,t,r,n){return function(e,t,r,n){var o,a;let s,u,d;if(d=i(t)?null!==(o=t.data.selectorValue)&&void 0!==o?o:t.data.selector.defaultValue:A(e,t),s=function(e){return"function"!=typeof e}(r)?r:r(d),s===d)return d;if(e.activateNode(t,"update",r),i(t))u=t.data.selector.setValue(e,t,s,n);else{if("function"==typeof(null===(a=t.data.atom)||void 0===a?void 0:a.updater)&&(e.beforeAtomUpdater(t),s=t.data.atom.updater({call:H(e),get:G(e),getRef:q(e),oldValue:d,remove:Z(e),set:Y(e),value:s}),e.afterAtomUpdater(t)),s===d)return d;u=s,e.updatingState(t),e.trackAndUpdate(t,s),e.addToPending(t.path,"update")}return u}(e,t,r,n)}function D(e,t,r){return function(e,t){const r=e.trie().getNode(t);e.activateNode(r,"remove");const n=A(e,r);return r.data.lastKnownValue=n,e.removingState(r),e.trackAndRemove(r),r.parent&&e.addToPending(r.parent.path,"remove-child"),n}(e,S(t,null==r?void 0:r.params))}function F(e,t,r,n){let o=!1,a=A(e,t,void 0,!!(null==n?void 0:n.mutableRefObject));return void 0===a&&void 0!==r&&(a=r,t.data.lastKnownValue=r,e.trackAndUpdate(t,r),o=!0,e.addToPendingWithoutSchedule(t.path,"default")),[a,o]}function K(e,t,r){if(t instanceof c&&r.data.atom!==t){r.data.atom=t,r.data.defaultValue=t.defaultValue;const n=w(e.getState(),r.path,void 0);void 0===n?(e.trackAndUpdate(r,t.defaultValue),e.addToPendingWithoutSchedule(r.path,"default")):r.data.lastKnownValue=n}else t instanceof te&&r.data.selector!==t&&(r.data.selector=t,r.data.initialized=!1)}function B(e,t){let r;if(e instanceof c)r=e.path;else if(e instanceof te)r=e.pathWithParams;else{if(!Array.isArray(e))throw Error(`Invalid state ${JSON.stringify(e)}. Must be path or atom or selector.`);r=e}return S(r,t)}function G(e,t){return(r,n)=>{const o=B(r,null==n?void 0:n.params),a=M(e,o);return K(e,r,a),t&&t.add(M(e,o)),function(e,t,r){const n=function(e,t,r){return i(t)?t.data.selector.getValue(e,t,r):F(e,t,t.data.defaultValue,r)[0]}(e,t,r);return d(n)?n.resolve():n}(e,a,n)}}function H(e){return(t,r)=>{t.execute(e,r)}}function q(e){return t=>M(e,t).data.ref}function Q(e,t){e.data.ref=t,e.data.holders.forEach(e=>{e.setter(t)})}function Y(e){return(t,r,n)=>{const o=B(t,null==n?void 0:n.params),a=M(e,o);return K(e,t,a),W(e,a,r,n)}}function Z(e){return(t,r)=>{const n=B(t,null==r?void 0:r.params),o=M(e,n);return K(e,t,o),D(e,o.path,r)}}function ee(){throw Error("Not a writable selector!")}Object.freeze({});class te{constructor({path:e,get:t,set:r,shouldComponentUpdate:n,defaultValue:o}){this.dynamic=!1,this.params=new Map,this._evaluate=(e,t)=>{var r;const{call:n,get:o,getRef:a,set:s,remove:i,options:u}=t,d=M(e,S(this.pathWithParams,null==u?void 0:u.params));let c;e.activateNode(d,"read"),e.beforeSelectorGet(d);try{c=null!==(r=this._get({call:n,get:o,getRef:a,params:null==u?void 0:u.params,remove:i,set:s}))&&void 0!==r?r:this.defaultValue}catch(t){return this.makeResolvable(e,d,!1,t,null==u?void 0:u.params)}finally{e.afterSelectorGet(d)}return v(c)?this.makeResolvable(e,d,!0,c,null==u?void 0:u.params):(d.data.selectorValue=c,delete d.data.resolveable,c)},this.getValue=(e,t,r)=>{var n;if(!t.data.initialized){null===(n=t.data.previousNodes)||void 0===n||n.forEach(e=>{var r;null===(r=t.data.unregisterMap.get(e))||void 0===r||r()}),t.data.unregisterMap=new Map,t.data.previousNodes=new Set,t.data.initialized=!0;const o=this.selectValueWithStateXHolder(e,r);return d(o)||e.selectorInitialized(t),o}return t.data.resolveable?t.data.resolveable:t.data.selectorValue},this.setValue=(e,t,r,n)=>{try{return e.beforeSelectorSet(t),this._set({call:H(e),get:G(e),getRef:q(e),params:null==n?void 0:n.params,remove:Z(e),set:Y(e),value:r},r)}catch(t){throw e.catch(t),t}finally{e.afterSelectorSet(t)}},this.watchStateXForSelector=(e,t,r,n)=>{const o=t.data.unregisterMap.get(r);o&&(console.warn("Node already registered",y(t.path),y(r.path)),o());const a={setter:b,node:t},s=T(e,r,a);a.setter=()=>this.update(e,t,n),t.data.unregisterMap.set(r,s)},this.update=(e,t,r)=>{const n=this.selectValueWithStateXHolder(e,r);d(n)?t.data.holders.forEach(e=>e.setter(n)):(t.data.selectorValue=n,this.inform(e,n,t,!0))},this.selectValueWithStateXHolder=(e,t)=>{const r=S(this.pathWithParams,null==t?void 0:t.params),n=M(e,r),o=new Set,a=this._evaluate(e,{call:H(e),get:G(e,o),getRef:q(e),options:t,remove:Z(e),set:Y(e)});return o.forEach(r=>{if(void 0===n.data.previousNodes)throw console.log(n),Error("invalid node!");n.data.previousNodes.has(r)?n.data.previousNodes.delete(r):this.watchStateXForSelector(e,n,r,t)}),n.data.previousNodes.forEach(e=>{var t;null===(t=n.data.unregisterMap.get(e))||void 0===t||t(),n.data.unregisterMap.delete(e)}),n.data.previousNodes=o,a},this._get=t,this._set=null!=r?r:ee,this.defaultValue=o,this.pathWithParams=e,this.shouldComponentUpdate=n;for(let a=0;a<e.length;a++){const t=e[a];"string"==typeof t&&":"===t.charAt(0)&&this.params.set(t.substr(1),a)}this.params.size&&(this.dynamic=!0)}makeResolvable(e,t,r,n,o){t.data.resolveable&&(t.data.resolveable.cancelled=!0);const a=new u(t,r);return delete t.data.selectorValue,v(n)?(a.promise=n,n.then(n=>(a.value=n,a.status="resolved",a.cancelled||(r?(t.data.resolveable=a.clone(),t.data.selectorValue=n,this.inform(e,n,t,r)):this.update(e,t,o)),n)).catch(r=>{a.error=r,a.status="error",e.catch(r),a.cancelled||(t.data.resolveable=a.clone(),t.data.holders.forEach(e=>e.setter(t.data.resolveable)))})):(a.error=n,a.status="error",e.catch(n)),t.data.resolveable=a,a}informInitialChange(e,t){this.inform(e,t.data.selectorValue,t,!0)}inform(e,t,r,n){const{oldSelectorValue:o}=r.data;r.data.oldSelectorValue=t;let a=!0;this.shouldComponentUpdate&&(e.beforeShouldComponentUpdate(r),a=this.shouldComponentUpdate(t,o),e.afterShouldComponentUpdate(r)),a&&r.data.holders.forEach(r=>{if(!r.holding)return;let n=!0;r.shouldComponentUpdate&&(e.beforeShouldComponentUpdate(r.node),n=r.shouldComponentUpdate(t,o),e.afterShouldComponentUpdate(r.node)),n&&r.setter(t),r.onChange&&(e.beforeOnChange(r.node),r.onChange({call:H(e),get:G(e),getRef:q(e),oldValue:o,remove:Z(e),set:Y(e),value:t}),e.afterOnChange(r.node))})}}class re{constructor(e){this.reset=()=>{this.root=this._createNode("_ROOT_")},this._createNode=(e,t)=>({children:{},key:e,parent:t,path:t?[...t.path,e]:[],data:this.makeData(e,t)}),this._forEach=(e,t,r)=>{r(e,t),Object.values(e.children).forEach(e=>{this._forEach(e,t+1,r)})},this.forEach=(e,t)=>{const r=this.getNode(e);this._forEach(r,0,t)},this.getNode=(e,t=!0)=>{let r,n,o=this.root;for(let a=0;a<e.length;a++){if(n=e[a],r=o.children[n],!r){if(!t)throw Error(`Node not found at path ${y(e)}! Parent ${n} at index ${a} is missing!`);r=this._createNode(n,o),o.children[n]=r}o=r}return o},this.addNode=(e,t)=>{this.getNode(e).data=t},this.removeNode=e=>{var t;if(e===this.root)throw Error("Cannot remove root node!");null===(t=e.parent)||void 0===t||delete t.children[e.key],e.deleted=!0},this._collectAllParentNodes=(e,t)=>{t.parent&&(e.push(t.parent),this._collectAllParentNodes(e,t.parent))},this._isChildNode=(e,t)=>{let r=t.parent;for(;r;){if(r===e)return!0;r=r.parent}return!1},this.isThisOrChildNode=(e,t)=>{const r=this.getNode(e);return r===t||this._isChildNode(r,t)},this.isChildNode=(e,t)=>{const r=this.getNode(e);return this._isChildNode(r,t)},this.getAllParentNodes=e=>{const t=[];return this._collectAllParentNodes(t,this.getNode(e)),t},this._collectAllChildNodes=(e,t,r)=>{let n;for(const o in e.children)n=e.children[o],r&&!r(n)||(t.push(n),this._collectAllChildNodes(n,t,r))},this.getAllChildNodes=(e,t)=>{const r=[];return this._collectAllChildNodes(this.getNode(e),r,t),r},this.isRootNode=e=>e===this.root,this.makeData=e,this.root=this._createNode("_ROOT_")}}function ne(){throw Error("This component must be used inside a <StateXProvider> component.")}class oe{constructor(e={},t=b){this._trie=new re(()=>({holders:new Set,defaultValue:void 0})),this.activeNodes=new Map,this.updatedNodes=[],this.removedNodes=[],this.pending=[],this.updateSchedule=ne,this.renderSchedule=ne,this.postUpdateRenderSchedule=ne,this.postRenderSchedule=ne,this.postUpdateSchedule=ne,this.postListenerSchedule=ne,this.id=0,this.rendering=!1,this.stateChangeListeners=new Set,this.destroyed=!1,this._nodesToBeRemoved=new Set,this.registerPreUpdateScheduler=e=>{this.updateSchedule=e},this.registerPreRenderScheduler=e=>{this.renderSchedule=e},this.registerPostRenderScheduler=e=>{this.postRenderSchedule=e},this.registerPostUpdateScheduler=e=>{this.postUpdateSchedule=e},this.registerPostListenerScheduler=e=>{this.postListenerSchedule=e},this.registerPostUpdateRenderSchedule=e=>{this.postUpdateRenderSchedule=e},this.state=e,this.handleError=t}addStateChangeListener(e){return this.stateChangeListeners.add(e),this.postListenerSchedule([]),()=>{this.stateChangeListeners.delete(e)}}informStateChange(){return this.removeMarkedNodes(),this._lastKnownState!==this.state&&0!==this.stateChangeListeners.size&&(this.stateChangeListeners.forEach(e=>e({state:this.state,oldState:this._lastKnownState,updatedNodes:this.updatedNodes,removedNodes:this.removedNodes})),this._lastKnownState=this.state,this.updatedNodes=[],this.removedNodes=[],!0)}catch(e){this.handleError(e)}afterSelectorGet(e){}afterSelectorSet(e){}beforeSelectorGet(e){}beforeSelectorSet(e){}beforeShouldComponentUpdate(e){}afterShouldComponentUpdate(e){}beforeOnChange(e){}afterOnChange(e){}beforeAtomOnChange(e){}afterAtomOnChange(e){}beforeAtomUpdater(e){}afterAtomUpdater(e){}updatingState(e){}removingState(e){}afterSelectorReads(){this.activeNodes.size&&this.activeNodes.clear(),this.lastLogItem=void 0,(this.updatedNodes.length||this.removedNodes.length)&&J(this)}renderingStarted(){this.rendering=!0}renderingCompleted(){this.rendering=!1}started(){}afterStateUpdates(){this.activeNodes.size&&this.activeNodes.clear(),this.getPendingPaths().length&&(J(this),this.renderingStarted()),this.postUpdateRenderSchedule([])}debug(e,t,r){}activateNode(e,t,r){var n;let o=null!==(n=this.activeNodes.get(e))&&void 0!==n?n:0;if(o>10)throw Error(`Trying to ${t} ${y(e.path)} too many times!`);this.activeNodes.set(e,++o),this.scheduleForUpdate(e,t)}scheduleForUpdate(e,t){switch(t){case"read":this._scheduleRead();break;default:if(this._scheduleUpdate(),this.rendering){const r=`WARNING: Trying to ${t} ${y(e.path)} during render!`;console.warn(r,t)}}}addToPendingWithoutSchedule(e,t){this.pending.push(e)}_scheduleRead(){this.renderSchedule([]),this.postRenderSchedule([])}_scheduleUpdate(){this.updateSchedule([]),this.postUpdateSchedule([])}destroy(){this.updateSchedule=ne,this.renderSchedule=ne,this.postRenderSchedule=ne,this.postUpdateRenderSchedule=ne,this._trie.reset(),delete this._trie,delete this.state,this.activeNodes.clear(),delete this.activeNodes,delete this.pending,this.destroyed=!0}addToPending(e,t){this.addToPendingWithoutSchedule(e,t),this._scheduleUpdate()}trie(){if(this.destroyed)throw Error("store destroyed!");return this._trie}clearPending(){this.pending=[]}getPendingPaths(){return this.pending}getState(){return this.state}setState(e){this.state=e}selectorInitialized(e){-1===this.updatedNodes.indexOf(e)&&(this.updatedNodes.push(e),this.addToPending(e.path,"init"))}trackAndUpdate(e,t){this.setState(_(this.getState(),e.path,t)),-1===this.updatedNodes.indexOf(e)&&this.updatedNodes.push(e)}updateState(e,t){this.setState(_(this.getState(),t,e)),this.postUpdateRenderSchedule([])}trackAndRemove(e){this.setState(k(this.getState(),e.path)),this.removedNodes.push(e)}markToBeRemoved(e){this._nodesToBeRemoved.add(e)}removeMarkedNodes(){this.destroyed||0===this._nodesToBeRemoved.size||(this._nodesToBeRemoved.forEach(e=>{this._trie.removeNode(e)}),this._nodesToBeRemoved.clear())}enteringNode(e){this._nodesToBeRemoved.delete(e)}}const ae=Object.freeze(new oe),se=Object(n.createContext)({current:ae});function ie(){const{current:e}=Object(n.useContext)(se);return e===ae&&ne(),e}function ue(e){console.error("Unhandled Exception!"),console.error(e)}const de=[];function ce({registerPreUpdateScheduler:e,registerPreRenderScheduler:t}){const r=ie();r.renderingStarted();const[o,a]=Object(n.useState)(de);e(a);const[,s]=Object(n.useState)(de);return t(s),Object(n.useEffect)(()=>{de!==o&&r.afterStateUpdates()},[r,o]),Object(n.useEffect)(()=>()=>{e(ne),t(ne)},[t,e]),null}function le({registerPostRenderScheduler:e,registerPostUpdateScheduler:t,registerPostListenerScheduler:r,registerPostUpdateRenderSchedule:o}){const a=ie();a.renderingCompleted();const[s,i]=Object(n.useState)(de);e(i);const[,u]=Object(n.useState)(de);t(u);const[d,c]=Object(n.useState)(de);r(c);const[l,h]=Object(n.useState)(de);return o(h),Object(n.useEffect)(()=>{a.afterSelectorReads()},[s,a]),Object(n.useEffect)(()=>{de!==l&&(a.getPendingPaths().length?a.afterStateUpdates():a.informStateChange())},[l,a]),Object(n.useEffect)(()=>{a.started()},[a]),Object(n.useEffect)(()=>{de!==d&&a.informStateChange()},[d,a]),Object(n.useEffect)(()=>()=>{r(ne),e(ne),o(ne)},[r,e,o]),null}function he({initialState:e={},handleError:t=ue,children:r}){const a=Object(n.useMemo)(()=>new oe(e,t),[]),s=Object(n.useRef)(a);return Object(n.useEffect)(()=>()=>a.destroy(),[a]),o.a.createElement(se.Provider,{value:s},o.a.createElement(ce,{registerPreUpdateScheduler:s.current.registerPreUpdateScheduler,registerPreRenderScheduler:s.current.registerPreRenderScheduler}),r,o.a.createElement(le,{registerPostRenderScheduler:s.current.registerPostRenderScheduler,registerPostUpdateScheduler:s.current.registerPostUpdateScheduler,registerPostListenerScheduler:s.current.registerPostListenerScheduler,registerPostUpdateRenderSchedule:s.current.registerPostUpdateRenderSchedule}))}class fe{constructor(e){this.execute=(e,t)=>{try{s.a.unstable_batchedUpdates(()=>{this.fn({call:H(e),get:G(e),getRef:q(e),remove:Z(e),set:Y(e)},t)})}catch(t){throw e.catch(t),t}},this.fn=e}}function pe(e){const t=Object(n.useRef)(e);return Object(n.useEffect)(()=>{t.current=e},[e]),t}function ge(e){return new c(e)}function ve(){const e=ie();return Object(n.useMemo)(()=>Y(e),[e])}function me(){const e=ie();return Object(n.useMemo)(()=>Z(e),[e])}function be(){const e=ie();return Object(n.useMemo)(()=>G(e),[e])}function Se(){const e=ie();return Object(n.useMemo)(()=>q(e),[e])}function ye(){const e=ie();return Object(n.useMemo)(()=>function(e){return(t,r)=>{Q(M(e,t),r)}}(e),[e])}function Oe(){return be()}function je(e,t){const r=pe(e),o=ie();return Object(n.useCallback)((...e)=>r.current({get:G(o),set:Y(o),getRef:q(o)},...e),[...t,r,o])}function Ne(e,t){const r=B(e,null==t?void 0:t.params),o=ie(),a=M(o,r),s=pe(t);return Object(n.useCallback)(e=>W(o,a,e,s.current),[o,a,s])}function Ce(e,t,r){let n;if(e instanceof c)n=e.defaultValue,r=t;else if(e instanceof te)n=e.defaultValue,r=t;else{if(!g(e))throw Error("Invalid state type value! Must be either an atom, selector or path.");void 0===t&&(t=null),n=t}return we(e,n,r)}function we(e,t,r){const n=B(e,null==r?void 0:r.params),o=M(ie(),n);let a=Re(o,e,t,r);return d(a)&&(a=a.resolveIfSelf(o)),a}function Pe(e,t){const r=B(e,null==t?void 0:t.params),n=M(ie(),r),o=Re(n,e,e.defaultValue,t);return d(o)?o:u.withValue(n,o)}function Ee(e,t){return[Pe(e,t),Ne(e,t)]}function Re(e,t,r,o){const a=ie();K(a,t,e),void 0===e.data.defaultValue&&(e.data.defaultValue=r);const s=Object(n.useRef)({setter:b,shouldComponentUpdate:null==o?void 0:o.shouldComponentUpdate,onChange:null==o?void 0:o.onChange,node:e}),[c,l]=Object(n.useState)(u.withValue(e,r,!0));let h,f=!1;t instanceof te?e!==s.current.node?(h=r,f=!0):h=c:[h,f]=F(a,e,r,o);const p=Object(n.useRef)({defaultValue:r,options:o,currentValue:h}),[g,v]=Object(n.useState)(h);Object(n.useEffect)(()=>{f&&(i(e)?d(c)&&c.isDefault&&c.value!==r&&l(u.withValue(e,r,!0)):g!==r&&v(r),a.addToPendingWithoutSchedule(e.path,"default"))},[r,g,e,c,a,f]);const m=Object(n.useCallback)(t=>{i(e)?l(t):v(t)},[l,v,e]);return Object(n.useEffect)(()=>{p.current.currentValue=h,p.current.defaultValue=r,p.current.options=o,s.current.shouldComponentUpdate=null==o?void 0:o.shouldComponentUpdate,s.current.onChange=null==o?void 0:o.onChange,s.current.setter=m,s.current.node=e},[h,r,o,e,m]),Object(n.useEffect)(()=>{const{defaultValue:t,options:r}=p.current;i(e)?l(e.data.selector.getValue(a,e,r)):m(F(a,e,t,r)[0])},[e,m,a]),Object(n.useEffect)(()=>T(a,e,s.current),[a,e,s]),h}function Ue(e,t,r){let n;if(e instanceof c)n=e.defaultValue,r=t;else if(e instanceof te)n=e.defaultValue,r=t;else{if(!g(e))throw Error("Invalid state type value! Must be either an atom, selector or path.");void 0===t&&(t=null),n=t}return[we(e,n,r),Ne(e,r)]}function Ve(e){return new te(e)}function _e(e){return new fe(e)}function $e(e){const t=ie();return Object(n.useCallback)(r=>e.execute(t,r),[e,t])}function xe(e,t){const r=B(e,null==t?void 0:t.params),o=ie(),a=M(o,r),s=pe(t);return Object(n.useCallback)(()=>D(o,a.path,s.current),[a,s,o])}function ke(e,t,r){let n;if(e instanceof c)n=e.defaultValue,r=t;else{if(!g(e))throw Error("Invalid state type value! Must be either an atom or path.");void 0===t&&(t=null),n=t}return[we(e,n,r),xe(e,r)]}function Ae(e){const t=ie(),r=Ne([]),o=Object(n.useRef)(e),a=Object(n.useRef)(!0);a.current&&(a.current=!1,t.trie().reset(),t.setState(_(t.getState(),[],e))),Object(n.useEffect)(()=>{JSON.stringify(o.current)!==JSON.stringify(e)&&(r(e),o.current=e)},[r,e])}function Ie(e,t=[]){const r=ie(),o=M(r,t),a=Object(n.useRef)(e);a.current=e,Object(n.useEffect)(()=>{const{path:e}=o;return r.addStateChangeListener((function(t){let{state:n,oldState:o,updatedNodes:s,removedNodes:i}=t;o=w(o,e,void 0),n=w(n,e,void 0),n!==o&&(s=s.filter(t=>r.trie().isThisOrChildNode(e,t)),i=i.filter(t=>r.trie().isThisOrChildNode(e,t)),a.current({state:n,oldState:o,updatedPaths:s.map(e=>e.path),removedPaths:i.map(e=>e.path)}))}))},[o,r])}function Me(){const e=ie();return Object(n.useCallback)((t,r=[])=>{s.a.unstable_batchedUpdates(()=>{!function(e,t,r){e.updateState(t,r);const n=new Set;n.add(M(e,r)),z(e,r,n),L(e,n)}(e,t,r)})},[e])}function Te(){const e=ie();return Object(n.useCallback)((t,r,n)=>{e.debug(t,r,n)},[e])}function Xe(e,t){const r=Ne(e,t);return[Object(n.useCallback)(e=>{r(e.target.value)},[r]),r]}function ze(e,t){const r=Object(n.useRef)(t),o=M(ie(),e);return o.data.ref||Q(o,r),Object(n.useEffect)(()=>()=>{Q(o,void 0)},[o]),o.data.ref}function Je(e){const t=ie(),r=M(t,e),[o,a]=Object(n.useState)(r.data.ref),s=Object(n.useRef)({setter:a,node:r});return Object(n.useEffect)(()=>T(t,r,s.current),[t,r,s]),o}function Le(e,t,r){let n;if(e instanceof c)n=e.defaultValue,r=t;else{if(!g(e))throw Error("Invalid state type value! Must be either an atom or path.");"string"!=typeof t&&(t=""),n=t}const o=we(e,n,r),[a]=Xe(e,r);return{value:o,onChange:a,type:(null==r?void 0:r.type)||"text"}}function We(e,t){const r=Ce(e,t)||"",[n]=Xe(e,t);return{value:r,onChange:n}}function De(e,t,r){let o;if(e instanceof c)o=e.defaultValue,r=t;else{if(!g(e))throw Error("Invalid state type value! Must be either an atom or path.");"number"!=typeof t&&(t=0),o=t}const a=we(e,o,r),[s]=function(e){const t=Ne(e);return[Object(n.useCallback)(e=>{const r=Number(e.target.value);Number.isNaN(r)||t(r)},[t]),t]}(e);return{value:a,onChange:s,type:"number"}}function Fe(e,t){const r=Ne(e,t);return[Object(n.useCallback)(()=>{r(e=>!e)},[r]),r]}function Ke(e,t,r){let n;if(e instanceof c)n=e.defaultValue,r=t;else{if(!g(e))throw Error("Invalid state type value! Must be either an atom or path.");"boolean"!=typeof t&&(t=!1),n=t}const o=we(e,n,r),[a]=Fe(e,r);return[!!o,a]}function Be(e,t,r){let n;if(e instanceof c)n=e.defaultValue,r=t;else{if(!g(e))throw Error("Invalid atom type value! Must be either an atom or path.");"boolean"!=typeof t&&(t=!1),n=t}const o=we(e,n,r),[a]=Fe(e,r);return{onChange:a,checked:!!o,type:"checkbox"}}function Ge(){const e=ie();return t=>{const r=[];return e.trie().forEach(t,(e,t)=>{r.push(`${"".padStart(2*t,"-")}${y(e.path)} ${e.data.holders.size}`),e.data.holders.forEach(e=>{r.push(`${"".padStart(2*t+2," ")}${y(e.node.path)}`)})}),r.join("\n")}}function He(){const e=ie();return t=>{const r=[];return e.trie().forEach(t,(e,t)=>{r.push(e.path)}),r}}class qe{constructor(e){this.hashHistory={},this.limit=200,this._history=e=>{let t=this.hashHistory[e];return t||(t={history:[],index:-1},this.hashHistory[e]=t),t},this.add=(e,t)=>{const r=this._history(e),{history:n,index:o}=r;n.length>o+1&&n.splice(o+1,n.length-o),n.push(t),this.limit>0&&n.length>this.limit&&n.splice(0,n.length-this.limit),r.index=n.length-1},this.update=(e,t)=>{const r=this._history(e),{history:n,index:o}=r;-1===o?this.add(e,t):n[o]=t},this.undo=e=>{const t=this._history(e),{history:r,index:n}=t,o=r[n-1];o&&(t.index-=1,this.onChange(e,o))},this.redo=e=>{const t=this._history(e),{history:r,index:n}=t,o=r[n+1];o&&(t.index+=1,this.onChange(e,o))},this.clear=e=>{const t=this._history(e),{history:r}=t;r.length&&(t.history=[],t.index=-1)},this.reset=e=>{const t=this._history(e),{history:r,index:n}=t;if(r.length){const o=r[n];t.history=[o],t.index=0,this.onChange(e,o)}},this.canUndo=e=>{const t=this._history(e),{index:r}=t;return r>0},this.canRedo=e=>{const t=this._history(e),{history:r,index:n}=t;return n<r.length-1},this.getIndex=e=>this._history(e).index,this.isEmpty=e=>-1===this.getIndex(e),this.setLimit=e=>{this.limit=e},this.onChange=e.onChange}}function Qe(e=[],t="#",r=!1,o=200){const a=M(ie(),e),s=Object(n.useRef)({state:void 0,updatedPaths:[],removedPaths:[]}),i=Object(n.useRef)({state:void 0,updatedPaths:[],removedPaths:[]}),u=Me(),[d,c]=Object(n.useState)(!1),[l,h]=Object(n.useState)(!1),f=Object(n.useRef)(t);f.current=t;const p=Object(n.useRef)(a);p.current=a;const g=Object(n.useMemo)(()=>{const e=new qe({onChange:(e,t)=>{i.current.state=t,i.current.updatedPaths=[],i.current.removedPaths=[],u(t,p.current.path),c(g.canUndo(e)),h(g.canRedo(e))}});return e.setLimit(o),e},[o,u]),v=Object(n.useCallback)(()=>{c(g.canUndo(f.current)),h(g.canRedo(f.current))},[f,g]);Object(n.useEffect)(()=>{v()},[a,t,v]);const m=Object(n.useCallback)(()=>{g.undo(f.current)},[f,g]),b=Object(n.useCallback)(()=>{g.redo(f.current)},[g]),S=Object(n.useCallback)(()=>{g.reset(f.current)},[g]),y=Object(n.useCallback)(()=>{g.add(f.current,s.current.state),v()},[g,v]),O=Object(n.useCallback)(()=>{g.update(f.current,s.current.state)},[g]),j=Object(n.useCallback)(()=>{g.clear(f.current)},[g]),N=Object(n.useCallback)(()=>g.isEmpty(f.current),[g]);return Ie(({state:e,oldState:t,updatedPaths:n,removedPaths:o})=>{s.current={state:e,oldState:t,updatedPaths:n,removedPaths:o},e&&r&&i.current.state!==e&&(0===o.length&&function(e,t){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}(n,i.current.updatedPaths)?O():y(),i.current.updatedPaths=n,i.current.removedPaths=o)},a.path),{addToUndo:y,canRedo:l,canUndo:d,clear:j,isEmpty:N,redo:b,reset:S,undo:m,updateToUndo:O}}},96:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return p}));var n=r(0),o=r.n(n);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var d=o.a.createContext({}),c=function(e){var t=o.a.useContext(d),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},l=function(e){var t=c(e.components);return o.a.createElement(d.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},f=o.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,s=e.parentName,d=u(e,["components","mdxType","originalType","parentName"]),l=c(r),f=n,p=l["".concat(s,".").concat(f)]||l[f]||h[f]||a;return r?o.a.createElement(p,i(i({ref:t},d),{},{components:r})):o.a.createElement(p,i({ref:t},d))}));function p(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,s=new Array(a);s[0]=f;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i.mdxType="string"==typeof e?e:n,s[1]=i;for(var d=2;d<a;d++)s[d]=r[d];return o.a.createElement.apply(null,s)}return o.a.createElement.apply(null,r)}f.displayName="MDXCreateElement"}}]);