(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{150:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(9),o=(n(0),n(169)),i={title:"atom(options)",sidebar_label:"atom()"},c={id:"api-reference/core/atom",title:"atom(options)",description:"Returns writeable StateX state at a given path",source:"@site/docs/api-reference/core/atom.md",permalink:"/statex/docs/api-reference/core/atom",editUrl:"https://github.com/CloudIOInc/statex/edit/master/website/docs/api-reference/core/atom.md",sidebar_label:"atom()",sidebar:"someSidebar",previous:{title:"path",permalink:"/statex/docs/api-reference/core/path"},next:{title:"selector(options)",permalink:"/statex/docs/api-reference/core/selector"}},l=[{value:"Example",id:"example",children:[]}],p={rightToc:l};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Returns writeable StateX state at a given ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"path"}),"path")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"options")),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"path"),": A unique json path for this atom. This path should be unique with respect to other atoms and selectors in the entire application. Path can have placeholders (bind variables) e.g. ","['employee', ':empId']")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"defaultValue"),": The initial value of the atom.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx",metastring:'title="shouldComponentUpdate?:"',title:'"shouldComponentUpdate?:"'}),"(value: Readonly<T>, oldValue?: Readonly<T>) => boolean;\n")),Object(o.b)("p",{parentName:"li"},"Similar to the react class component lifecyle method, if set, will be invoked before triggering a re-render of the component due to a change in the state. Return false to prevent re-rendering of the component subscribed to this atom."),Object(o.b)("blockquote",{parentName:"li"},Object(o.b)("p",{parentName:"blockquote"},"Returning false will also prevent the below functions updater & onChange from being invoked."))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx",metastring:'title="updater?:"',title:'"updater?:"'}),"(props: {\n  value: T;\n  oldValue: Readonly<T>;\n  get: StateXGetter;\n  set: StateXSetter;\n}) => T;\n")),Object(o.b)("p",{parentName:"li"},"A function if set, will be invoked prior to updating this atom state value. You can transform the given value and return the transformed value to be set as this atom's state value instead. You can also read or write other atom values using the passed get & set properties.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx",metastring:'title="onChange?:"',title:'"onChange?:"'}),"(props: {\n      value: Readonly<T>;\n      oldValue: Readonly<T>;\n      get: StateXGetter;\n      set: StateXSetter;\n  }) => void;\n")),Object(o.b)("p",{parentName:"li"},"A callback function if set, will be invoked after this atom's state value has been changed. You can use the set property to update any dependent atom based on the change being made."))))),Object(o.b)("p",null,"The following hooks can be used to interact with atoms:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"useStateX"}),"useStateX()"),": use this hook when you intend on both reading and writing to the atom. This hook subscribes the component to the atom."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"useStateXValue"}),"useStateXValue()"),": use this hook when you intend on only reading the atom. This hook subscribes the component to the atom."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"useStateXValueSetter"}),"useStateXValueSetter()"),": use this hook when you intend on only writing to the atom."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"useRemoveStateX"}),"useRemoveStateX()"),": use this hook to remove an atom from the global state.")),Object(o.b)("p",null,"For rare cases where you need to read an atom value without subscribing to the component, see ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"useStateXGetter"}),"useStateXGetter()"),"."),Object(o.b)("h3",{id:"example"},"Example"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"live open",live:!0,open:!0}),"const counter = atom({\n  path: ['myCounter'],\n  defaultValue: 0,\n});\n\nfunction Counter() {\n  const [count, setCount] = useStateX(counter);\n  const incrementByOne = () => setCount(count + 1);\n\n  return (\n    <div>\n      Count: {count}\n      <br />\n      <button onClick={incrementByOne}>Increment</button>\n    </div>\n  );\n}\n\nreturn <Counter />;\n")))}u.isMDXComponent=!0},169:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.a.createContext({}),u=function(e){var t=r.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},s=function(e){var t=u(e.components);return r.a.createElement(p.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),s=u(n),m=a,d=s["".concat(i,".").concat(m)]||s[m]||b[m]||o;return n?r.a.createElement(d,c(c({ref:t},p),{},{components:n})):r.a.createElement(d,c({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var p=2;p<o;p++)i[p]=n[p];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);